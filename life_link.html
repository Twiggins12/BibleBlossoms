<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bible Blossoms | Life Link</title>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png">

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">

  <!-- Shared CSS Styles -->
  <link rel="stylesheet" href="css/styles.css">

  <!-- Life Link Only CSS Style -->
  <link rel="stylesheet" href="css/life_link.css">

</head>
<body>

  <!-- Header -->
<header id="top">
  <h1>Life Link</h1>
  <h2>Bible Topical Reference</h2>
  <h3>World English Bible (WEB)*</h3>
  <h3>A Work in Progress - Growing Daily</h3>
</header>

    <!-- Top-left Home Link -->
<div id="domain-top-left">
  <a href="index.html">BibleBlossoms</a>
</div>
  
  <!-- Page Content -->
 <div class="content">
<p>
  This reference tool is just beginning its journey.
I’m building it prayerfully and carefully, adding new topics and Scripture references nearly every day.
It may feel incomplete at times — and that’s because it is still growing.
My desire is that, over the years, Life Link will become a rich and trusted Bible topical reference to support deeper study and understanding.
Thank you for your patience as this work unfolds.
 </p>
   <p>Began February, 4, 2026  |  Last Updated February 23, 2026</p>
 </div>
  
  <div class="page-content">

<!-- Section Containers -->
<div id="sections-container">
  <div class="section-container"><div class="section-heading">Father, Son, Holy Spirit</div><div class="dropdown-column"><select class="mainTopicSelect"><option value="">Select Main Topic</option></select><select class="subTopicSelect"><option value="">Select Sub-Topic</option></select><select class="bookSelect"><option value="">Select Book</option></select><div class="verseText"></div></div></div>
  <div class="section-container"><div class="section-heading">Creation, Earth, Animals</div><div class="dropdown-column"><select class="mainTopicSelect"><option value="">Select Main Topic</option></select><select class="subTopicSelect"><option value="">Select Sub-Topic</option></select><select class="bookSelect"><option value="">Select Book</option></select><div class="verseText"></div></div></div>
  <div class="section-container"><div class="section-heading">History, Laws, Sin</div><div class="dropdown-column"><select class="mainTopicSelect"><option value="">Select Main Topic</option></select><select class="subTopicSelect"><option value="">Select Sub-Topic</option></select><select class="bookSelect"><option value="">Select Book</option></select><div class="verseText"></div></div></div>
  <div class="section-container"><div class="section-heading">People, Culture, Objects</div><div class="dropdown-column"><select class="mainTopicSelect"><option value="">Select Main Topic</option></select><select class="subTopicSelect"><option value="">Select Sub-Topic</option></select><select class="bookSelect"><option value="">Select Book</option></select><div class="verseText"></div></div></div>
  <div class="section-container"><div class="section-heading">Mind, Body, Spirit</div><div class="dropdown-column"><select class="mainTopicSelect"><option value="">Select Main Topic</option></select><select class="subTopicSelect"><option value="">Select Sub-Topic</option></select><select class="bookSelect"><option value="">Select Book</option></select><div class="verseText"></div></div></div>
  <div class="section-container"><div class="section-heading">Places, Travels</div><div class="dropdown-column"><select class="mainTopicSelect"><option value="">Select Main Topic</option></select><select class="subTopicSelect"><option value="">Select Sub-Topic</option></select><select class="bookSelect"><option value="">Select Book</option></select><div class="verseText"></div></div></div>
  <div class="section-container"><div class="section-heading">Spiritual Beings, Miracles</div><div class="dropdown-column"><select class="mainTopicSelect"><option value="">Select Main Topic</option></select><select class="subTopicSelect"><option value="">Select Sub-Topic</option></select><select class="bookSelect"><option value="">Select Book</option></select><div class="verseText"></div></div></div>
  <div class="section-container"><div class="section-heading">Visions, Prophecies, End Times</div><div class="dropdown-column"><select class="mainTopicSelect"><option value="">Select Main Topic</option></select><select class="subTopicSelect"><option value="">Select Sub-Topic</option></select><select class="bookSelect"><option value="">Select Book</option></select><div class="verseText"></div></div></div>
  <div class="section-container"><div class="section-heading">Wisdom, Instructions</div><div class="dropdown-column"><select class="mainTopicSelect"><option value="">Select Main Topic</option></select><select class="subTopicSelect"><option value="">Select Sub-Topic</option></select><select class="bookSelect"><option value="">Select Book</option></select><div class="verseText"></div></div></div>
  <div class="section-container"><div class="section-heading">Promises, Covenants</div><div class="dropdown-column"><select class="mainTopicSelect"><option value="">Select Main Topic</option></select><select class="subTopicSelect"><option value="">Select Sub-Topic</option></select><select class="bookSelect"><option value="">Select Book</option></select><div class="verseText"></div></div></div>
</div>

<div id="loading">Loading verses...</div>
<div style="text-align:center; margin-top:40px;">
</div>
  <section class="copyright">
  <h3>Copyright & Attribution</h3>

  <p>
    Scripture quotations are from the 
    <a href="https://worldenglishbible.org/" target="_blank">
      *World English Bible (WEB)
    </a>. The World English Bible is in the public domain and may be freely 
    used, quoted, copied, and distributed without permission.
  </p>

  <p>
    Bible verse data is retrieved programmatically using the 
    <a href="https://bible-api.com/" target="_blank">
      Bible API
    </a>, which provides access to public domain Bible texts for 
    non-commercial and educational use.
  </p>

  <p>
    This website is independently developed and is not affiliated with 
    or endorsed by the World English Bible organization or the Bible API project.
  </p>
</section>
<script>
  // Each section can point to its own CSV file
 const csvFiles = [
  'data/sections/section1_Father.csv',
  'data/sections/section2_Creation.csv',
  'data/sections/section3_History.csv',
  'data/sections/section4_People.csv',
  'data/sections/section5_Mind.csv',
  'data/sections/section6_Places.csv',
  'data/sections/section7_Spiritual_Beings.csv',
  'data/sections/section8_Visions.csv',
  'data/sections/section9_Wisdom.csv',
  'data/sections/section10_Promises.csv'
];

  const sectionContainers = document.querySelectorAll('.section-container');

  sectionContainers.forEach((section, index) => {
    const mainTopicSelect = section.querySelector('.mainTopicSelect');
    const subTopicSelect = section.querySelector('.subTopicSelect');
    const bookSelect = section.querySelector('.bookSelect');
    const verseTextDiv = section.querySelector('.verseText');

    let masterRows = [];

    async function loadMasterCSV() {
      try {
        const res = await fetch(csvFiles[index]);
        const csvText = await res.text();
        const parsed = Papa.parse(csvText, { header: true, skipEmptyLines: true });
       masterRows = parsed.data
  .filter(row => row.Book && row.Chapter && row.Verse)
  .map(row => ({
    Section: (row.Section || "").trim(),
    MainTopic: (row.MainTopic || "").trim(),
    SubTopic: (row.SubTopic || "").trim(),
    Book: (row.Book || "").trim(),
    Chapter: parseInt(row.Chapter),
    Verse: parseInt(row.Verse)
}));

        const mainTopics = [...new Set(masterRows.map(r => r.MainTopic))];
        mainTopics.forEach(topic => {
          const opt = document.createElement('option');
          opt.value = topic;
          opt.text = topic;
          mainTopicSelect.appendChild(opt);
        });
      } catch(err) {
        console.error('Error loading CSV:', err);
      }
    }

    mainTopicSelect.addEventListener('change', () => {
      subTopicSelect.innerHTML = '<option value="">Select Sub-Topic</option>';
      bookSelect.innerHTML = '<option value="">Select Book</option>';
      verseTextDiv.innerHTML = '';
      const selectedTopic = mainTopicSelect.value;
      if(!selectedTopic) return;
      const subTopics = [...new Set(masterRows.filter(r => r.MainTopic === selectedTopic).map(r => r.SubTopic))];
      subTopics.forEach(sub => {
        const opt = document.createElement('option');
        opt.value = sub;
        opt.text = sub;
        subTopicSelect.appendChild(opt);
      });
    });

    subTopicSelect.addEventListener('change', () => {
      bookSelect.innerHTML = '<option value="">Select Book</option>';
      verseTextDiv.innerHTML = '';
      const selectedTopic = mainTopicSelect.value;
      const selectedSub = subTopicSelect.value;
      if(!selectedTopic || !selectedSub) return;
      const books = [...new Set(masterRows.filter(r => r.MainTopic === selectedTopic && r.SubTopic === selectedSub).map(r => r.Book))];
      books.forEach(book => {
        const opt = document.createElement('option');
        opt.value = book;
        opt.text = book;
        bookSelect.appendChild(opt);
      });
    });

    bookSelect.addEventListener('change', () => {
      verseTextDiv.innerHTML = '';
      const selectedTopic = mainTopicSelect.value;
      const selectedSub = subTopicSelect.value;
      const selectedBook = bookSelect.value;
      if(!selectedTopic || !selectedSub || !selectedBook) return;

      const filteredRows = masterRows.filter(r =>
        r.MainTopic === selectedTopic &&
        r.SubTopic === selectedSub &&
        r.Book === selectedBook
      );

      let currentChapter = null;
      const table = document.createElement('table');
      table.className = 'verse-table';

     async function displayVerses() {

  const chapterGroups = {};

  filteredRows.forEach(row => {
    const key = `${row.Book}-${row.Chapter}`;
    if(!chapterGroups[key]) chapterGroups[key] = [];
    chapterGroups[key].push(row);
  });

  for(const key in chapterGroups){

    const rows = chapterGroups[key];
    const book = rows[0].Book;
    const chapter = rows[0].Chapter;

    try{

      const res = await fetch(`https://bible-api.com/${encodeURIComponent(book + " " + chapter)}`);
      const data = await res.json();

      if(!data.verses) continue;

      const trChapter = document.createElement('tr');
      trChapter.className = 'chapter-row';
      const tdChapter = document.createElement('td');
      tdChapter.colSpan = 2;
      tdChapter.innerText = `Chapter ${chapter}`;
      trChapter.appendChild(tdChapter);
      table.appendChild(trChapter);

      rows.forEach(row => {

        const verseData = data.verses.find(v => v.verse === row.Verse);
        if(!verseData) return;

        const trVerse = document.createElement('tr');
        trVerse.className = 'verse-row';

        const tdNumber = document.createElement('td');
        tdNumber.className = 'verse-number';
        tdNumber.innerText = row.Verse;

        const tdText = document.createElement('td');
        tdText.className = 'verse-text';
        tdText.innerText = verseData.text;

        trVerse.appendChild(tdNumber);
        trVerse.appendChild(tdText);

        table.appendChild(trVerse);

      });

    }catch(err){
      console.error(`Error fetching ${book} ${chapter}`, err);
    }

  }

  verseTextDiv.appendChild(table);
}
            const trVerse = document.createElement('tr');
            trVerse.className = 'verse-row';
            const tdNumber = document.createElement('td');
            tdNumber.className = 'verse-number';
            tdNumber.innerText = row.Verse;
            const tdText = document.createElement('td');
            tdText.className = 'verse-text';
            tdText.innerText = d.text;
            trVerse.appendChild(tdNumber);
            trVerse.appendChild(tdText);
            table.appendChild(trVerse);

          } catch(err) {
            console.error(`Error fetching ${reference}:`, err);
          }
        }
        verseTextDiv.appendChild(table);
      }

      displayVerses();
    });

    loadMasterCSV();
  });

</script>
  </div>
  
<footer class="site-footer">
  <a href="index.html">Home</a>
  <a href="life_link.html">Life Link</a>
  <a href="wordoku.html">WORDokus</a>
  <a href="mazes.html">Mazes</a>
  <a href="coloring_pages.html">Coloring Pages</a>
  <a href="bible_reading_plans.html">Bible Reading Plans</a>
  <a href="about.html">About</a>
  <a href="#top">Top</a>
</footer>

</body>
</html>
